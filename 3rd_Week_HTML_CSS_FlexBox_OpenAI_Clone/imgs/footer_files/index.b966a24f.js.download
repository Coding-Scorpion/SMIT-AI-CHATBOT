import{_ as b}from"./Footer.2eee9128.js";import{_ as k}from"./Blocks.4ade62b4.js";import{u as y,s as w,_ as x}from"./useHeadSeo.368e82b5.js";import{h as M,w as B,y as P,g as T,d as s,o as V,i as C,j as H,k as N,a as h,D as S,b as $}from"./entry.4b5ca0c5.js";import{d as A,b as q}from"./usePageTransition.fa4dc7ba.js";import{u as v}from"./usePreviewToken.c5c59d34.js";import{u as D}from"./useErrorPage.88194d13.js";import"./BlockMath.vue.80899781.js";import"./Listing.39910ae4.js";import"./useResourceIndexData.6a8855de.js";import"./usePageLoading.292c5f65.js";import"./lang.4a9029fb.js";const R={class:"home-blocks"},X={__name:"index",async setup(j){var _,f;let r,m;const{$twill:c,$helpers:u}=M(),g=A(),{data:e,error:p}=([r,m]=B(()=>q("homepage",()=>{const o=c.find("homepages");return v().value&&o.query("preview",v().value),o.fetch()},{transform:o=>c.transform(o).pop()})),r=await r,m(),r);D({data:e,error:p}),g.value="simple";const l=P(()=>{var o,i,t,n,a;return{blendMode:((o=e==null?void 0:e.value)==null?void 0:o.hero.blendMode)??"default",image:u.media.imageByRole(e==null?void 0:e.value,"heroImage","default"),links:(i=e==null?void 0:e.value)==null?void 0:i.links,poster:u.media.imageByRole(e==null?void 0:e.value,"heroPoster","default"),title:(t=e==null?void 0:e.value)==null?void 0:t.description,type:(n=e==null?void 0:e.value)==null?void 0:n.hero.assetType,video:((a=e.value.files.heroVideoSrc)==null?void 0:a.length)&&e.value.files.heroVideoSrc[0].originalSrc}});return y({title:(_=e.value)==null?void 0:_.title,seo:(f=e.value)==null?void 0:f.seo}),T(()=>{w(e==null?void 0:e.value)}),(o,i)=>{const t=b,n=k,a=x;return s(p)?N("",!0):(V(),C(a,{key:0,id:"home"},{default:H(()=>{var d;return[h(t,S({name:"Home"},s(l),{differenceMode:s(l).blendMode&&s(l).blendMode==="difference",template:"Home",theme:s(e).colorTheme}),null,16,["differenceMode","theme"]),$("div",R,[h(n,{blocks:(d=s(e).blocks)==null?void 0:d.default,brand:!0},null,8,["blocks"])])]}),_:1}))}}};export{X as default};
